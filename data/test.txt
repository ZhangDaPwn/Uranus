
<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAYCAMAAABjozvFAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURf////zz8//9/f34+PXMzPbV1Pba2f////TJyPPFxf38+////wAAAMcdI7sAAMMADQEBAbgAALwAALoAALkAAL8AAMopLskgJsgiJ8cfJfbS0vzy8ckoLLMAAM87Pd3d3cgbInt7e8YPGnBwcMcXH4CAgL0AALcAAOB7et1tboWFhUNDQwcHB8MAD1ZWVsEAAdXV1cYMGb4AABQUFLUAAMQBEwMDA+Hh4aysrJ2dnTIyMh4eHvT09Ombmvn5+cDAwKGhofv7+7YAADQ0NN9yc/ro6aWlpcIACsAAABcXF5KSknd3d0dHRw0NDWxsbMMAC/G8vO+0syUlJcUUHBwcHEVFRVBQUPX19cQAEf7+/kBAQM7OzlNTU8AABsIABrQAAP329scRG8ssL91ubvPz86ioqOqfn8rKykJCQsXFxdvb25+fn6Kior29vQkJCZWVldtlZeKCgampqSYmJhEREQ8PD7e3tycnJ7S0tNFCROuhoP3y8pubm4yMjGZmZsjIyE1NTfLAwPrj5ImJicMHFe/v73FxcdHR0QwMDNra2uJ/fuypqNA/QJaWln5+fnR0dPnf3mNjY1lZWUtLS+qjopiYmCoqKsgjKNZUVeaQkDY2NiIiIs01OOrq6swvMsUKF8EABN92djw8POB7e8nJycojKM45PP3z8s87PvfX1u+0tMQEFOTk5IKCgu7u7tlhYeulpNhdXTg4OPfZ2PTNzPnf4BoaGqSkpPTKyuyoqMHBweyrrNfX1/Dw8E9PT8/Pz42Nja6uroiIiGFhYf37+ttkZHp6eufn5+SLi0FBQYaGhnNzc5mZmdpgYOB4d8IAEVhYWFJSUsklKcvLy8QPGvXR0OiYmbKyso+Pj7GxsdLS0nx8fMcXHhYWFv79/eB3d8EADOeUlPXT0uF6eV1dXeSKihISEsTExIODg9JHST4+Pvvv7/rn5/zx8NxpatJFRt1wcfvq6q4AAPjc2990dasAAMYbIddYWfXOze2ur++3t////uF+ff3399hbXMkeJnevGJYAAAALdFJOU/Ly8vLy8vLl8vLy6tdKuQAAA5RJREFUOMullWd4FFUUhhdRg55vNtsLapLVZXdJ7zFogBTSe4f0Qu8dlA4CAULvvXcQ7KiAXYqCgmLHCtbYu1ju3JnZzY/wrIHvx73n3Oebd55zq8pH5VaHmzrdcuPNquuQj4oUdd5iCQlLrzq78UQvalsHG8mbVArvjFFb/UbR+0UR6dqQhDato4aN7eGVJuFa1ifNMgtcVnNV0otteWOB0azbH+cV90K91rwqxKGWpEtzjmjD+1xwTk+i/rGagd5wrzpXmdU7fuva0JWpoWFBTE3C1b4YDNztBTfdabfoVntWoJ82JP1RJZk6O3vKM5Mzm2hD86QyGjgAmBboz8b7Twla+hZ3xGUFHRviwfVeoDMbN7Ls4l8S4ZLekjRSpi2EpHtoETCYpGQA0UweLGKOCbFilO3GPWwsEgzL6e8r/+70Y9rtt8MupFnu57RwoLi5BFjZTLlAIAXNBTLGD6ehQFToSqAH+QPDXgsC+iq4+/RCXfUe+rPG6LyDy2gSAnT5HPcS8A6RBq8Q3QW8R1QJsAWhEkSxthhZtAQaVvtaJCu4FL01onwP/aHb988Vl8u1bdvEciFAfYjjhgOTqUmDUxzXhSgUSCU6qkHUksrPLmMZnYRmaWVoBtBdxh3WCXf6dqa9hhh5vi5oGa4fD7snA6U5QJyCe12cQbFCSbmULEfrFNyDagmnj/m9tnYXY6zRu3E0SrSOFveGhFvGN8q9wRi7vWJ7eEUi9QEmzJka/m6jUuw8g1XEFTjqzPX1v5p+EHGCej6nPRCFz8su8tBdbC5LSqFJlf53mg+32ncF6gARd+RHvTM6+pd9LfSxQbA7HlFWNvuLhba35xA9D8wmyhQ3TTwdZ90Hhcgoo4NjgLnjAX8F1ytvlohb/P0Wl+vnlJ+IPtVbIyfKP5wmT80kCgTiiRofYkk3onHFfDeyEgd1E6Pgp92nYoShzneG56h88tEmS/RyKd6wNbikz1drNRhDNPRJPtTXdqCJdYmpWTb5hhlnsz2b6DlkMxyb8/Jv+7pF1K5vCjZFmnSmWsm5FetY2zsHj9H/kHwFJNREWE23c5mskdWmNMMTsoGtW2nmzEJgSDtwlBIdFuPLlVduP2fUHlEML/OJQeHj1B4cjVSr7dL9aYnQGp9qZTm/IjC+gqh9OJq+U2eI3FwV5tCGrV5M1yiV5+mh/G+/81u/+8sP36Rrl8qn9cN2a8cbVNf1MP4HCWMMeoGMWdIAAAAASUVORK5CYII="/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,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"/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAYCAMAAABjozvFAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURf////zz8//9/f34+PXMzPbV1Pba2f////TJyPPFxf38+////wAAAMcdI7sAAMMADQEBAbgAALwAALoAALkAAL8AAMopLskgJsgiJ8cfJfbS0vzy8ckoLLMAAM87Pd3d3cgbInt7e8YPGnBwcMcXH4CAgL0AALcAAOB7et1tboWFhUNDQwcHB8MAD1ZWVsEAAdXV1cYMGb4AABQUFLUAAMQBEwMDA+Hh4aysrJ2dnTIyMh4eHvT09Ombmvn5+cDAwKGhofv7+7YAADQ0NN9yc/ro6aWlpcIACsAAABcXF5KSknd3d0dHRw0NDWxsbMMAC/G8vO+0syUlJcUUHBwcHEVFRVBQUPX19cQAEf7+/kBAQM7OzlNTU8AABsIABrQAAP329scRG8ssL91ubvPz86ioqOqfn8rKykJCQsXFxdvb25+fn6Kior29vQkJCZWVldtlZeKCgampqSYmJhEREQ8PD7e3tycnJ7S0tNFCROuhoP3y8pubm4yMjGZmZsjIyE1NTfLAwPrj5ImJicMHFe/v73FxcdHR0QwMDNra2uJ/fuypqNA/QJaWln5+fnR0dPnf3mNjY1lZWUtLS+qjopiYmCoqKsgjKNZUVeaQkDY2NiIiIs01OOrq6swvMsUKF8EABN92djw8POB7e8nJycojKM45PP3z8s87PvfX1u+0tMQEFOTk5IKCgu7u7tlhYeulpNhdXTg4OPfZ2PTNzPnf4BoaGqSkpPTKyuyoqMHBweyrrNfX1/Dw8E9PT8/Pz42Nja6uroiIiGFhYf37+ttkZHp6eufn5+SLi0FBQYaGhnNzc5mZmdpgYOB4d8IAEVhYWFJSUsklKcvLy8QPGvXR0OiYmbKyso+Pj7GxsdLS0nx8fMcXHhYWFv79/eB3d8EADOeUlPXT0uF6eV1dXeSKihISEsTExIODg9JHST4+Pvvv7/rn5/zx8NxpatJFRt1wcfvq6q4AAPjc2990dasAAMYbIddYWfXOze2ur++3t////uF+ff3399hbXMkeJnevGJYAAAALdFJOU/Ly8vLy8vLl8vLy6tdKuQAAA5RJREFUOMullWd4FFUUhhdRg55vNtsLapLVZXdJ7zFogBTSe4f0Qu8dlA4CAULvvXcQ7KiAXYqCgmLHCtbYu1ju3JnZzY/wrIHvx73n3Oebd55zq8pH5VaHmzrdcuPNquuQj4oUdd5iCQlLrzq78UQvalsHG8mbVArvjFFb/UbR+0UR6dqQhDato4aN7eGVJuFa1ifNMgtcVnNV0otteWOB0azbH+cV90K91rwqxKGWpEtzjmjD+1xwTk+i/rGagd5wrzpXmdU7fuva0JWpoWFBTE3C1b4YDNztBTfdabfoVntWoJ82JP1RJZk6O3vKM5Mzm2hD86QyGjgAmBboz8b7Twla+hZ3xGUFHRviwfVeoDMbN7Ls4l8S4ZLekjRSpi2EpHtoETCYpGQA0UweLGKOCbFilO3GPWwsEgzL6e8r/+70Y9rtt8MupFnu57RwoLi5BFjZTLlAIAXNBTLGD6ehQFToSqAH+QPDXgsC+iq4+/RCXfUe+rPG6LyDy2gSAnT5HPcS8A6RBq8Q3QW8R1QJsAWhEkSxthhZtAQaVvtaJCu4FL01onwP/aHb988Vl8u1bdvEciFAfYjjhgOTqUmDUxzXhSgUSCU6qkHUksrPLmMZnYRmaWVoBtBdxh3WCXf6dqa9hhh5vi5oGa4fD7snA6U5QJyCe12cQbFCSbmULEfrFNyDagmnj/m9tnYXY6zRu3E0SrSOFveGhFvGN8q9wRi7vWJ7eEUi9QEmzJka/m6jUuw8g1XEFTjqzPX1v5p+EHGCej6nPRCFz8su8tBdbC5LSqFJlf53mg+32ncF6gARd+RHvTM6+pd9LfSxQbA7HlFWNvuLhba35xA9D8wmyhQ3TTwdZ90Hhcgoo4NjgLnjAX8F1ytvlohb/P0Wl+vnlJ+IPtVbIyfKP5wmT80kCgTiiRofYkk3onHFfDeyEgd1E6Pgp92nYoShzneG56h88tEmS/RyKd6wNbikz1drNRhDNPRJPtTXdqCJdYmpWTb5hhlnsz2b6DlkMxyb8/Jv+7pF1K5vCjZFmnSmWsm5FetY2zsHj9H/kHwFJNREWE23c5mskdWmNMMTsoGtW2nmzEJgSDtwlBIdFuPLlVduP2fUHlEML/OJQeHj1B4cjVSr7dL9aYnQGp9qZTm/IjC+gqh9OJq+U2eI3FwV5tCGrV5M1yiV5+mh/G+/81u/+8sP36Rrl8qn9cN2a8cbVNf1MP4HCWMMeoGMWdIAAAAASUVORK5CYII="/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,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"/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,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"/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,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"/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:itranswarp="http://www.itranswarp.com/" xmlns:wb="https://open.weibo.com/wb" lang="zh_CN">
<!--
-->
<head>
	<meta charset="utf-8" />
	<title>Python yield使用浅析 - 廖雪峰的官方网站</title>
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="viewport" content="width=device-width" />
	<meta name="keywords" content="javascript,node,jquery,git,python,java,sql,linux,bitcoin,教程,软件,编程,开发,运维,云计算,网络,互联网,比特币,数字货币" />
	<meta name="description" content="研究互联网产品和技术，提供原创中文精品教程" />
	<meta property="x-nav" content=" /category/ " />



	    <meta property="og:ad" content="true" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.liaoxuefeng.com/article/895920356978720" />
    <meta property="og:title" content="Python yield使用浅析" />
    <meta property="og:description" content="Python yield使用浅析" />
    <meta property="og:image" content="https://www.liaoxuefeng.com/files/attachments/917819162307648/l" />
    <meta property="og:tag" content="python,yield" />

	<!-- BEGIN CSS -->
	<link rel="stylesheet" href="/static/css/codemirror.css" />
	<link rel="stylesheet" href="/static/css/highlight.css" />
	<link rel="stylesheet" href="/static/css/katex.css" />
	<link rel="stylesheet" href="/static/css/simditor.css" />
	<link rel="stylesheet" href="/static/css/main.css?v=1.0-78696de-2020-04-10T02:25:52Z" />
	<!-- END CSS -->
	<!-- BEGIN JAVASCRIPT -->
	<script src="/static/js/3rdparty/jquery.js"></script>
	<script src="/static/js/3rdparty/underscore.js"></script>
	<script src="/static/js/3rdparty/moment-with-locales.min.js"></script>
	<script src="/static/js/3rdparty/marked.js"></script>
	<script src="/static/js/3rdparty/codemirror.js"></script>
	<script src="/static/js/3rdparty/highlight.js"></script>
	<script src="/static/js/3rdparty/katex.js"></script>
	<script src="/static/js/3rdparty/module.js"></script>
	<script src="/static/js/3rdparty/hotkeys.js"></script>
	<script src="/static/js/3rdparty/uploader.js"></script>
	<script src="/static/js/3rdparty/simditor.js"></script>
	<script src="/static/js/3rdparty/turndown.js"></script>
	<script src="/static/js/uikit/uikit.js"></script>
	<script src="/static/js/uikit/components/tooltip.js"></script>
	<script src="/static/js/uikit/components/slideshow.js"></script>
	<script src="/static/js/uikit/components/datepicker.js"></script>
	<script src="/static/js/uikit/components/autocomplete.js"></script>
	<script src="/static/js/uikit/components/notify.js"></script>
	<script src="/static/js/uikit/components/lightbox.js"></script>
	<script src="/static/js/uikit/components/htmleditor.js"></script>
	<!-- END JAVASCRIPT -->
	<script src="/static/js/shared.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/itranswarp.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>
	<script src="/static/js/extension.js?v=1.0-78696de-2020-04-10T02:25:52Z"></script>

	<!-- comment template -->

<script id="tplComment" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<h4 class="uk-comment-title"><a target="_blank" href="/discuss/{ boardId }/{ id }">{ name }</a></h4>
			<div class="uk-comment-meta">
				<a target="_blank" href="/user/{ userId }">{ userName }</a>
				created at { createdAt.toSmartDate() }, Last updated at { updatedAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteTopic('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteTopicAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>


<script id="tplCommentReply" type="text/plain">
	<div class="uk-comment">
		<div class="uk-comment-header" style="margin-bottom:0">
			<a target="_blank" href="/user/{ userId }"><img class="uk-comment-avatar uk-border-circle x-avatar" src="{ userImageUrl }" width="50" height="50" alt=""></a>
			<div class="uk-comment-meta"><a target="_blank" href="/user/{ userId }">{ userName }</a></div>
			<div class="uk-comment-meta">
				Created at { createdAt.toSmartDate() }
				<span class="x-can-delete">
                	[<a href="javascript:deleteReply('{ id }')" class="uk-text-danger">删除</a>]
                	[<a href="javascript:deleteReplyAndLockUser('{ id }', '{ userId }')" class="uk-text-danger">删除并锁定用户</a>]
                </span>
			</div>
		</div>
		<div class="uk-comment-body x-auto-content">
			{ content|raw }
		</div>
	</div>
</script>

<script id="tplCommentInfo" type="text/plain">
	<li>
		<div class="x-comment-info">
			<hr>
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }"><i class="uk-icon-list-ul"></i> 全部讨论</a>
			&nbsp;
			<a target="_blank" class="uk-button uk-button-small" href="/discuss/{ boardId }/{ id }#reply"><i class="uk-icon-reply"></i> 回复</a>
		</div>
	</li>
</script>

<script id="tplCommentArea" type="text/plain">
	<div class="x-display-if-signin">
		<p><button id="comment-make-button" type="button" class="uk-button uk-button-primary"><i class="uk-icon-comment"></i> 发表评论</button></p>
		<form id="comment-form" class="uk-form" style="display:none;">
			<fieldset>
				<div class="uk-alert uk-alert-danger" style="display:none"></div>
				<div class="uk-form-row">
					<label>标题:</label>
				</div>
				<div class="uk-form-row">
					<input type="text" name="name" maxlength="100" style="width:100%">
				</div>
				<div class="uk-form-row">
					<label>内容:</label>
				</div>
				<div class="uk-form-row x-textarea">
				</div>
				<div class="uk-form-row">
					<button type="submit" class="uk-button uk-button-primary"><i class="uk-icon-check"></i> 发布</button>
					&nbsp;&nbsp;
					<button type="button" class="uk-button x-cancel"><i class="uk-icon-close"></i> 取消</button>
				</div>
			</fieldset>
		</form>
	</div>
</script>

	<style id="x-doc-style">
		.x-display-none { display: none; }
		.x-display-if-signin { display: none; }
		.x-can-delete {
			display: none;
		}
	</style>

	<script>
		// global variables:
		var g_time = parseFloat('1625564919666');
		var g_user = null;

	// init svg icons:
	var g_icons = {
	'1279465533472802':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 2.84375 3 C 1.285156 3 0 4.285156 0 5.84375 L 0 10.8125 C -0.00390625 10.855469 -0.00390625 10.894531 0 10.9375 L 0 46 C 0 46.550781 0.449219 47 1 47 L 49 47 C 49.550781 47 50 46.550781 50 46 L 50 11 C 50 10.96875 50 10.9375 50 10.90625 L 50 5.84375 C 50 4.285156 48.714844 3 47.15625 3 Z M 2.84375 5 L 47.15625 5 C 47.636719 5 48 5.363281 48 5.84375 L 48 10 L 2 10 L 2 5.84375 C 2 5.363281 2.363281 5 2.84375 5 Z M 2 12 L 48 12 L 48 45 L 2 45 Z M 14.90625 19.9375 C 14.527344 19.996094 14.214844 20.265625 14.101563 20.628906 C 13.988281 20.996094 14.09375 21.394531 14.375 21.65625 L 19.59375 27.03125 L 14.21875 32.25 C 13.820313 32.636719 13.816406 33.273438 14.203125 33.671875 C 14.589844 34.070313 15.226563 34.074219 15.625 33.6875 L 21.6875 27.75 L 22.40625 27.0625 L 21.71875 26.34375 L 15.78125 20.25 C 15.601563 20.058594 15.355469 19.949219 15.09375 19.9375 C 15.03125 19.929688 14.96875 19.929688 14.90625 19.9375 Z M 22.8125 32 C 22.261719 32.050781 21.855469 32.542969 21.90625 33.09375 C 21.957031 33.644531 22.449219 34.050781 23 34 L 36 34 C 36.359375 34.003906 36.695313 33.816406 36.878906 33.503906 C 37.058594 33.191406 37.058594 32.808594 36.878906 32.496094 C 36.695313 32.183594 36.359375 31.996094 36 32 L 23 32 C 22.96875 32 22.9375 32 22.90625 32 C 22.875 32 22.84375 32 22.8125 32 Z \"></path>\n</svg>",
	'1279465562832930':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 50 50\">\n<path d=\"M 12 2 C 8.6983746 2 6 4.6983746 6 8 L 6 42.417969 C 6 45.591903 8.832306 48 12 48 L 44 48 L 44 46 L 12 46 C 9.841694 46 8 44.378035 8 42.417969 C 8 40.457903 9.8001368 39 12 39 L 44 39 L 44 2 L 12 2 z M 12 4 L 42 4 L 42 37 L 12 37 C 10.506931 37 9.0923623 37.537598 8 38.417969 L 8 8 C 8 5.7796254 9.7796254 4 12 4 z M 15 9 C 13.906937 9 13 9.9069372 13 11 L 13 15 C 13 16.093063 13.906937 17 15 17 L 36 17 C 37.093063 17 38 16.093063 38 15 L 38 11 C 38 9.9069372 37.093063 9 36 9 L 15 9 z M 15 11 L 36 11 L 36 15 L 15 15 L 15 11 z\" />\n</svg>",
	'1280137966387234':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 350 350\">\n<path d=\"M247.436,288.6C264.658,282.791,350,250.865,350,188.814c0-38.818-15.299-56.129-49.605-56.129H10c-5.523,0-10,4.478-10,10\n\tv58.357c0,49.781,26.563,93.474,66.26,117.651H36.934c-5.523,0-10,4.478-10,10c0,5.523,4.478,10,10,10h100.719h3.646h100.728\n\tc5.522,0,10-4.477,10-10c0-5.522-4.478-10-10-10h-29.335C225.889,310.654,237.635,300.459,247.436,288.6z M278.95,201.042v-48.357\n\th21.444c20.473,0,29.605,5.217,29.605,36.129c0,33.839-37.13,57.706-64.039,70.559C274.286,241.65,278.95,221.882,278.95,201.042z\n\tM141.299,318.693h-3.646C72.778,318.693,20,265.916,20,201.042v-48.357h238.95v48.357\n\tC258.95,265.916,206.172,318.693,141.299,318.693z\"/>\n<path d=\"M99.31,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.454-58.926\n\tc2.401-4.974,0.316-10.952-4.656-13.353c-4.972-2.399-10.951-0.316-13.354,4.656L94.653,75.885\n\tC92.252,80.858,94.337,86.837,99.31,89.238z\"/>\n<path d=\"M162.497,89.238c1.401,0.677,2.883,0.997,4.342,0.997c3.717,0,7.287-2.082,9.012-5.653l28.455-58.926\n\tc2.401-4.974,0.317-10.952-4.656-13.353c-4.971-2.399-10.952-0.316-13.354,4.656l-28.455,58.926\n\tC155.439,80.858,157.523,86.837,162.497,89.238z\"/>\n</svg>",
	'1279465671884834':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 1024 1024\">\n<path d=\"M807.34208 238.46912H776.6016V183.27552c0-109.19936-85.54496-182.5792-212.8896-182.5792H453.8368c-127.32416 0-212.8896 73.35936-212.8896 182.5792v55.1936h-24.28928c-127.32416 0-212.8896 73.35936-212.8896 182.5792v200.82688c0 61.11232 27.648 163.6352 212.8896 163.6352h30.74048v55.21408c0 109.19936 85.56544 182.5792 212.8896 182.5792h109.8752c127.34464 0 212.8896-73.37984 212.8896-182.5792v-55.21408h24.28928c127.34464 0 212.8896-73.37984 212.8896-182.5792v-200.82688c0-61.11232-27.66848-163.6352-212.8896-163.6352zM249.89696 595.12832c-9.50272 40.71424-8.97024 45.50656-8.97024 68.44416v59.92448h-24.28928c-41.2672 0-150.87616 0-150.87616-101.62176v-200.82688c0-88.8832 77.9264-120.56576 150.87616-120.56576l238.24384-1.024v-59.37152h-151.94112V183.27552c0-88.8832 77.9264-120.56576 150.87616-120.56576h109.8752c72.94976 0 150.87616 31.66208 150.87616 120.56576v200.82688c0 6.92224-0.4096 14.29504-1.67936 21.79072-25.02656 63.7952-102.6048 71.92576-139.5712 71.92576 0 0-117.43232-0.08192-121.26208-0.14336-10.5472-0.2048-21.05344-0.43008-34.16064 0.6144-116.08064 11.4688-158.47424 76.12416-167.99744 116.8384z m708.32128 7.80288c0 88.8832-77.9264 120.56576-150.87616 120.56576l-251.392-0.88064v59.0848h165.08928v59.02336c0 88.8832-77.9264 120.56576-150.87616 120.56576h-109.8752c-72.92928 0-150.87616-31.68256-150.87616-120.56576v-200.84736c0-6.92224 0.4096-14.31552 1.67936-21.8112 25.02656-63.75424 102.58432-71.8848 139.55072-71.8848l134.32832 0.32768c6.53312 0 13.29152-0.18432 21.05344-0.8192 116.16256-11.4688 154.8288-70.81984 166.21568-122.01984a185.01632 185.01632 0 0 0 10.79296-63.26272v-59.92448h24.28928c41.2672 0 150.87616 0 150.87616 101.62176v200.82688z\" />\n<path d=\"M386.06848 170.02496m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n<path d=\"M636.33408 852.0704m-33.46432 0a33.46432 33.46432 0 1 0 66.92864 0 33.46432 33.46432 0 1 0-66.92864 0Z\" />\n</svg>",
	'1279465705439266':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 448 512\">\n<path d=\"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z\"/>\n</svg>",
	'1359943823261729':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\">\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"9.188\" y1=\"1\" x2=\"9.188\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"19\" x2=\"12.812\" y2=\"23\"/>\n<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" x1=\"12.812\" y1=\"1\" x2=\"12.812\" y2=\"5\"/>\n<path fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6,19h9.25 c1.934,0,3.5-1.566,3.5-3.5s-1.566-3.5-3.5-3.5H10h3.5c1.934,0,3.5-1.567,3.5-3.5S15.434,5,13.5,5H6\"/>\n</svg>",
	'1279465629941794':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"></ellipse>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"></path>\n<path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"></path>\n</svg>",
	'1279465600581666':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"></circle>\n<circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"></circle>\n<path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"></path>\n</svg>",
	'1279465764159522':"<svg width=\"14px\" height=\"14px\" viewBox=\"0 0 20 20\">\n<polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"></polygon>\n<circle cx=\"10\" cy=\"8\" r=\"1\"></circle><circle cx=\"6\" cy=\"8\" r=\"1\"></circle><circle cx=\"14\" cy=\"8\" r=\"1\"></circle>\n</svg>",
	'END':''
	};
	$(function () {
		$('span.x-icon').each(function () {
			var
				$span = $(this),
				iconId = $span.attr('data-id');
			if (iconId) {
				$span.html(g_icons[iconId]);
			}
		});
		$(window).trigger('resize');
	});

	// init ads:
	var g_ads = JSON.parse(decodeURIComponent('%7B%22slots%22%3A%5B%7B%22alias%22%3A%22a%22%2C%22width%22%3A336%2C%22height%22%3A280%2C%22numSlots%22%3A6%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A336px%3Bheight%3A280px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%228492060710%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1350324434501698%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Fland.kaikeba.com%2Fa%2F114%22%7D%2C%7B%22imageId%22%3A1380928416907329%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928882475041%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391264313377%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1324238348746786%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Python%EF%BC%9BGit%EF%BC%9Bindex%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1380929043955745%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928746160161%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1340345897975874%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22python%22%2C%22git%22%2C%22index%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI5MjgwMDc4MQ%3D%3D%26mid%3D2247490055%26idx%3D1%26sn%3D71b00338a67b23a98e0c06614449e82f%26chksm%3Dec7a8a65db0d03739c825c85da76e515ef2dcc38ba6d2278b6d60ab47e4fc9301cbd8d64c048%26token%3D1481346959%26lang%3Dzh_CN%26utm_campaign%3DPC%26utm_medium%3Dcpc%26utm_source%3DPC%26gio_link_id%3DWoMNweE9%23rd%22%7D%2C%7B%22imageId%22%3A1382387902578722%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%E3%80%81C%2B%2B%E3%80%81%E8%83%A1%E8%88%B9%E9%95%BF%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1380928700022817%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%89%8D%E7%AB%AF%E3%80%81Web%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%2C%7B%22imageId%22%3A1380928641302562%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22Web%E3%80%81%E5%89%8D%E7%AB%AF%22%5D%2C%22url%22%3A%22http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI3MDE1MDA3Mg%3D%3D%26mid%3D100006770%26idx%3D4%26sn%3D45fc524d738776236f06129238a0dbd5%26chksm%3D6ad42ba55da3a2b3babb13b2b7d5dbbae3f72268aae87b6eafed67faa2074e188bad0d13787f%23rd%22%7D%5D%7D%5D%7D%2C%7B%22alias%22%3A%22b%22%2C%22width%22%3A300%2C%22height%22%3A600%2C%22numSlots%22%3A4%2C%22numAutoFill%22%3A2%2C%22adAutoFill%22%3A%22%3Cins%20class%3D%5C%22adsbygoogle%5C%22%20style%3D%5C%22display%3Ainline-block%3Bwidth%3A300px%3Bheight%3A600px%5C%22%20data-ad-client%3D%5C%22ca-pub-6727358730461554%5C%22%20data-ad-slot%3D%5C%224769867116%5C%22%3E%3C%2Fins%3E%5Cn%3Cscript%3E%5Cn%28adsbygoogle%20%3D%20window.adsbygoogle%20%7C%7C%20%5B%5D%29.push%28%7B%7D%29%3B%5Cn%3C%2Fscript%3E%22%2C%22periods%22%3A%5B%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391333519393%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1367702604087361%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%E5%BB%96%E9%9B%AA%E5%B3%B0%20java%20%E7%89%A9%E8%81%94%E7%BD%91%20C%2B%2B%22%5D%2C%22url%22%3A%22https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKw_dZvhfqLdJbXUzUF1ZWw%22%7D%5D%7D%2C%7B%22materials%22%3A%5B%7B%22imageId%22%3A1382391360782370%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%2C%7B%22imageId%22%3A1382391388045346%2C%22weight%22%3A100%2C%22tags%22%3A%5B%22%22%5D%2C%22url%22%3A%22https%3A%2F%2Ft.1yb.co%2F9Lc4%22%7D%5D%7D%5D%7D%5D%7D'));
	$(function () {
		initSponsors(g_ads);
		console.log('init ad ok.');
	});
	</script>


<style>
.x-article-visible {
    display: block;
}
</style>

<script>

loadComments('895920356978720');

var
    comment_type = 'article',
    comment_ref_id = '895920356978720',
    comment_tag = 'tech';

function onAuthSuccess() {
    initCommentArea(comment_type, comment_ref_id, comment_tag);
}

$(function () {
    if (g_user !== null) {
        initCommentArea(comment_type, comment_ref_id, comment_tag);
    }
});

</script>

<script>
	console.log('init itranswarp ok.');
</script>

<!-- BEGIN custom_header -->
<script src="//tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>

<script>
if ($('meta[property="og:ad"]').attr('content') === 'true') {
    var _tag = document.createElement('script');
    _tag.type = 'text/javascript';
    _tag.async = true;
    _tag.src = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    $('head').append(_tag);
}

if (location.pathname.indexOf('/wiki/897692888725344')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger">您正在学习的Python 2.7教程已过期，请前往学习最新的<a href="/wiki/1016959663602400">Python 3.x教程</a></div>');
  });
}
if (location.pathname.indexOf('/wiki/1207298049439968')===0){
  $(function () {
    $('#x-content-top').append('<div class="uk-alert uk-alert-danger"><i class="uk-icon-warning"></i> 请注意：此区块链教程为技术教程，教程的所有内容均不构成任何投资比特币或其他数字货币的意见和建议，也不赞成个人炒作任何数字货币！</div>');
    $.ajax({ url: 'https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/js/blockchain-lib.js?v=1', dataType: 'script', cache: true });
    $.ajax({ url: 'https://cdn.jsdelivr.net/npm/ethers@5.0.32/dist/ethers.umd.min.js', dataType: 'script', cache: true });
  });
}
</script>

<script>
function shareToWeibo() {
    var url = 'http://service.weibo.com/share/share.php?type=button&ralateUid=1658384301&language=zh_cn&appkey=1391944217&searchPic=false&style=full';
    url = url + '&title=' + encodeURIComponent(document.title);
    url = url + '&url=' + encodeURIComponent(location.href);
    url = url + '&pic=' + encodeURIComponent($('meta[property="og:image"]').attr('content'));
    window.open(url, 'share_liaoxuefeng_com', 'top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no,resizable=no');
}

var SHARE_TO_WEIBO = '<h3>还可以分享给朋友：</h3><p><a href="#0" onclick="shareToWeibo()" class="uk-button uk-button-danger"><i class="uk-icon-weibo"></i> 分享到微博</button></p>';

var QRCODES = {
    java: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107900620866/0"</p>',
    python: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107913203778/0"</p>',
    javascript: '<h3>读后有收获可以支付宝请作者喝咖啡，读后有疑问请加微信群讨论：</h3><p><img src="/files/attachments/1422670998536258/0"> <img src="/files/attachments/1283107885940801/0"</p>'
};

var ZAN_ONLY = '<h3>读后有收获可以支付宝请作者喝咖啡：</h3><p><img src="/files/attachments/1422670998536258/0"></p>';

</script>

<script>
// add new:
$(function () {
  var img = '<img src="https://static.liaoxuefeng.com/files/attachments/1114079735783744/0" style="position:absolute;right:-10px;top:1px;z-index:100">';
  $('#ul-navbar a[href="/wiki/1252599548343744"]').append(img);
  $('#ul-navbar a[href="/wiki/1207298049439968"]').append(img);
});
</script>

<script>
  // sql: import alasql
  if (location.pathname.indexOf('/wiki/1177760294764384') === 0) {
    $.ajax({
      url: 'https://liaoxuefeng.gitee.io/learning-js/jslib/alasql.js?v=1',
      dataType: 'script',
      cache: true,
      success: function () {
        console.log('alasql loaded.');
        alasql.options.joinstar = 'underscore';
        var
          i,
          classes_data = [['一班'], ['二班'], ['三班'], ['四班']],
          students_data = [[1, '小明', 'M', 90], [1, '小红', 'F', 95], [1, '小军', 'M', 88], [1, '小米', 'F', 73], [2, '小白', 'F', 81], [2, '小兵', 'M', 55], [2, '小林', 'M', 85], [3, '小新', 'F', 91], [3, '小王', 'M', 89], [3, '小丽', 'F', 88]];
        alasql('CREATE TABLE classes (id BIGINT NOT NULL AUTO_INCREMENT, name VARCHAR(10) NOT NULL, PRIMARY KEY (id))');
        alasql('CREATE TABLE students (id BIGINT NOT NULL AUTO_INCREMENT, class_id BIGINT NOT NULL, name VARCHAR(10) NOT NULL, gender CHAR(1) NOT NULL, score BIGINT NOT NULL, PRIMARY KEY (id))');
        for (i=0; i<classes_data.length; i++) {
          alasql('INSERT INTO classes (name) VALUES (?)', classes_data[i]);
        }
        for (i=0; i<students_data.length; i++) {
          alasql('INSERT INTO students (class_id, name, gender, score) VALUES (?, ?, ?, ?)', students_data[i]);
        }
      }
    });
  }
</script>

<script>
// java practice:
var giteelink = '<a href="https://gitee.com/" target="_blank"><img style="height:20px;" src="data:image/png;base64,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"/></a>';
if (location.pathname.indexOf('/wiki/1252599548343744') === 0) {
    $(function () {
        $('a').each(function () {
            var
                $a = $(this),
                url = $a.attr('href');
            if (url && url.indexOf('https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/') === 0) {
                var
                    text = $a.text(),
                    h = '从' + giteelink + '下载练习：<a href="' + url.replace(/\/raw/, '/blob') + '?utm_source=blog_lxf">' + text + '</a> （推荐使用<a target="_blank" href="/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）';
                $a.replaceWith(h);
            }
        });
    });
}

if (location.pathname.indexOf('/wiki/896043488029600') === 0) {
    $(function () {
        $('#x-wiki-index #1163625339727712').prepend('<span style="position:absolute;margin-left:-1.1em;margin-top:3px;display:inline-block;width:16px;height:24px;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGJUExURQAAAMYcI8ccI8ccI8cdI8ccI8YcJcYcIsccI8wZJsYdI8YcIscdIscdI8QaIMcdI8QaJcYcIsYdI8YcJMYdI8YdI8ccI8YcI8YcIr8fH8QdJ8MeHsgkJMcdI8cdIsccIsccI8YcI8YdI8kfH8YdIsYcIsgdJMoeJf8AAMYdI8ccJMYdI8YdIsYeIskdIsccIsYcIsccIscbIsccIsccI8YcIsYcIsYdIsccIsYcIcUcIsYcI/8AAMcdIscdI8ccI8cdI8cdI8cdIscdI8YdI8geJMYcI8cdIscbIcYdI8cdIscbJcYcIscdI8YcHMYdIsYeJMYdIsUcJcccIsYcIsccIsccI8cdI8YcIsYdIskdI8MZIsYeIccdIscdIsYcI7YkJMYcIcccIsYdJMYcIskaIcccIsYdIscfH8ccI8YcIsYcI8ccI8YdIsccIsYcI8UfJMwzM8cdI8wZGcYcI8kaKMgcI8YcI8YdIsccIscdI8YcI8cdIccdI8weHsYcIsYdIsYdIscdIxtFXPcAAACCdFJOUwCWj7z81xve9xTZ1NvtJ9gwf6w/p3qz5rAIGhEOTvuF6bT+GL75RiIB2mrQjDs0+NVhJY7vdVrsxTZZhwKTybuBV+TKtlS6uFNWwTe50gmVVeM+fKvc4IB2ZyseRPKS5wdbWE36JuX0IO7x6HPizpAxBfYKkRN0vcfNcstFphmii5pZBD0wAAABdklEQVQ4y8XUZVfDMBQG4MAYg7lvjI0p7u7u7u7u7g795aS5bUiz7COH98v63vMsJ+lpi9D/JSfUOtdk6vDXtuSmIivuPIlmzCU0G5I2/q0kYvdJfPZ2OdMsibKjMaOSONuMmZhWp7EMNXkxuVt/UTuIE4c9/pGp5NZqwaNOatbA2ILaferl4bLa3MQcx7nDGOVpr1IC+QSd4cu3z+80JV/vsH45oG5odoSuBAecBZROSlY2QmEB8gLyknJzj9Ad/o0YDSTGU0BVzCnISnjN82v6SByQeSM0C4suuFsgrUOZZ5GNR3VQBlkkvUZ1ukf9A0XFgCY1CPJE0QCgaoouKXrBczO5CgOqoSikT+hwEs8OPD4CXqDssE9FmnQRY1TrlNwOuRfEBQt56MAp132WBMrAmIroaLUSd4vNoMa8qR5ghvnjcIpn3KPZQYPQOLiz9AvMUtLbGRzhiLlQ9J4PjTNkoaQtxSfDWu8s7Yn4TNHFij/6bv0A7Xb98tZz0gYAAAAASUVORK5CYII=\')"></span>');
    });
    $(function () {
        $('.x-wiki-info').append('<div style="float:right"><a target="git-cheat-sheet" href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.html#" style="font-size:1.2em"><i class="uk-icon-info-circle"></i></a></div>');
    });
}
</script>

<script>
// add share:
$(function () {
  if (location.pathname.indexOf('/wiki/')===0) {
    var
        tag = $('meta[property="og:tag"]').attr('content');
        discuss = QRCODES[tag] || '',
        zan = discuss === '' ? ZAN_ONLY : discuss;
    $('.x-wiki-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-wiki-content').after(zan + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// article: add share:
$(function () {
  if (location.pathname.indexOf('/article/')===0) {
    $('.x-article-content').find('a[href^=http]').attr('target', '_blank');
    $('.x-article-content').after(ZAN_ONLY + SHARE_TO_WEIBO);
  }
});
</script>

<script>
// footer:
$(function() {
  $('.x-footer-copyright').find('p').append('<br>本网站运行在<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云</a>上并使用<a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa">阿里云CDN</a>加速。');
  $('.x-footer').append('<hr><div style="text-align:center"><p>本网站内容全部为原创，谢绝转载。友情链接: <a href="http://www.shi-ci.com" target="_blank">中华诗词</a> - <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=cz36baxa" target="_blank">阿里云</a> - <a href="http://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html" target="_blank">SICP</a> - <a href="http://www.4clojure.com/" target="_blank">4clojure</a></p><p><a href="https://beian.miit.gov.cn" target="_blank">京ICP备13005808号-11</a></p></div>');
});
</script>

<script>
// tongji:
var _hmt = _hmt || [];
(function () {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?2efddd14a5f2b304677462d06fb4f964";
  hm.async = "async";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- END custom_header -->

<script>
	console.log('init js ok.');
</script>

</head>

<body>
	<div class="x-goto-top">
		<div class="x-arrow"></div>
		<div class="x-stick"></div>
	</div>

	<div id="header" class="uk-navbar uk-navbar-attached">
		<div class="uk-container x-container">
			<div id="navbar" class="uk-navbar uk-navbar-attached">
								<a id="brand" href="/" class="uk-navbar-brand uk-visible-large">廖雪峰的官方网站</a>
				<a id="brand-small" href="/" class="uk-navbar-brand uk-hidden-large"><i class="uk-icon-home"></i></a>
				<a class="uk-hidden" href="/blog/">Blog</a>
				<ul id="ul-navbar" class="uk-navbar-nav uk-hidden-small">
										<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
										<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
										<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
										<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
										<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
										<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
										<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
										<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
										<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
										<li id="navbar-more" class="uk-parent" data-uk-dropdown style="display:none">
						<a href="#0"><i class="uk-icon-chevron-down"></i> 更多</a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul id="ul-navbar-more" class="uk-nav uk-nav-navbar">
																<li class="x-nav"><a href="/category/895882450960192" ><span class="x-icon" data-id="1279465533472802"></span> 编程</a></li>
																<li class="x-nav"><a href="/category/895882413934592" ><span class="x-icon" data-id="1279465562832930"></span> 读书</a></li>
																<li class="x-nav"><a href="/wiki/1252599548343744" ><span class="x-icon" data-id="1280137966387234"></span> Java教程</a></li>
																<li class="x-nav"><a href="/wiki/1016959663602400" ><span class="x-icon" data-id="1279465671884834"></span> Python教程</a></li>
																<li class="x-nav"><a href="/wiki/1022910821149312" ><span class="x-icon" data-id="1279465705439266"></span> JavaScript教程</a></li>
																<li class="x-nav"><a href="/wiki/1207298049439968" ><span class="x-icon" data-id="1359943823261729"></span> 区块链教程</a></li>
																<li class="x-nav"><a href="/wiki/1177760294764384" ><span class="x-icon" data-id="1279465629941794"></span> SQL教程</a></li>
																<li class="x-nav"><a href="/wiki/896043488029600" ><span class="x-icon" data-id="1279465600581666"></span> Git教程</a></li>
																<li class="x-nav"><a href="/discuss" ><span class="x-icon" data-id="1279465764159522"></span> 问答</a></li>
															</ul>
						</div>
					</li>
				</ul>
				<ul id="ul-navbar-small" class="uk-navbar-nav uk-visible-small">
					<li class="uk-parent" data-uk-dropdown>
						<a href="#0"><i class="uk-icon-navicon"></i></a>
						<div class="uk-dropdown uk-dropdown-navbar">
							<ul class="uk-nav uk-nav-navbar">
																<li><a href="/category/895882450960192" >编程</a></li>
																<li><a href="/category/895882413934592" >读书</a></li>
																<li><a href="/wiki/1252599548343744" >Java教程</a></li>
																<li><a href="/wiki/1016959663602400" >Python教程</a></li>
																<li><a href="/wiki/1022910821149312" >JavaScript教程</a></li>
																<li><a href="/wiki/1207298049439968" >区块链教程</a></li>
																<li><a href="/wiki/1177760294764384" >SQL教程</a></li>
																<li><a href="/wiki/896043488029600" >Git教程</a></li>
																<li><a href="/discuss" >问答</a></li>
															</ul>
						</div>
					</li>
				</ul>

<!--
				<div class="uk-navbar-content x-hidden-tiny">
					<form id="form-search" class="uk-form uk-margin-remove uk-display-inline-block">
						<div class="uk-form-icon">
							<i class="uk-icon-search"></i>
							<input type="text" placeholder="Search">
						</div>
					</form>
				</div>
-->

				<div id="navbar-user-info" class="uk-navbar-flip">
					<ul class="uk-navbar-nav">
						<li class="uk-parent x-display-if-signin" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-user"></i><span class="x-hidden-tiny">&nbsp;</span><span class="x-user-name x-hidden-tiny"></span></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
									<li><a target="_blank" href="/profile"><i class="uk-icon-cog"></i> 个人资料</a></li>
									<li class="uk-nav-divider"></li>
																									<li><a href="/auth/signout"><i class="uk-icon-power-off"></i> 登出</a></li>
								</ul>
							</div>
						</li>
						<li class="x-display-if-not-signin uk-hidden-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i> 登录</a></li>
						<li class="x-display-if-not-signin uk-visible-small"><a href="/auth/signin"><i class="uk-icon-sign-in"></i></a></li>
						<li class="uk-parent" data-uk-dropdown>
							<a href="#0"><i class="uk-icon-globe"></i></a>
							<div class="uk-dropdown uk-dropdown-navbar">
								<ul class="uk-nav uk-nav-navbar">
																		<li><a href="/locale/en">English</a></li>
																		<li><a href="/locale/zh_CN">简体中文</a></li>
																	</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div><!-- // header -->

	<div id="main">
		<div class="x-placeholder-50"><!-- placeholder --></div>
		<div class="x-placeholder"><!-- placeholder --></div>
		<div class="uk-container x-container">
			<div class="uk-grid">
				<div id="x-body-top" class="uk-width-1-1">
					<!-- __snippet__.bodyTop -->
										<!-- // __snippet__.bodyTop -->
				</div>
				<div class="uk-width-1-1">
					<div class="uk-flex">
												<div class="uk-flex-item-1" style=" padding-right:15px;">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">

    <h3>Python yield使用浅析</h3>
    <p><img src="/files/attachments/917819162307648/l" class="uk-responsive-width"></p>
    <p><a href="/user/916549967804896">廖雪峰</a> / <a href="/category/895882450960192">编程</a> / <span class="x-smart-datetime" data="1353580445000">...</span> / 阅读: 32099</p>
    <div class="x-article-content x-main-content">
        <p><em>本文最早发表于IBM developerWorks：</em> <a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>
<p>您可能听说过，带有 yield 的函数在 Python 中被称之为 generator（生成器），何谓 generator ？</p>
<p>我们先抛开 generator，以一个常见的编程题目来展示 yield 的概念。</p>
<h3>如何生成斐波那契數列</h3>
<p>斐波那契（Fibonacci）數列是一个非常简单的递归数列，除第一个和第二个数外，任意一个数都可由前两个数相加得到。用计算机程序输出斐波那契數列的前 N 个数是一个非常简单的问题，许多初学者都可以轻易写出如下函数：</p>
<p><em>清单 1. 简单输出斐波那契數列前 N 个数</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>执行 fab(5)，我们可以得到如下输出：</p>
<pre><code>&gt;&gt;&gt; fab(5)
1
1
2
3
5
</code></pre>
<p>结果没有问题，但有经验的开发者会指出，直接在 fab 函数中用 print 打印数字会导致该函数可复用性较差，因为 fab 函数返回 None，其他函数无法获得该函数生成的数列。</p>
<p>要提高 fab 函数的可复用性，最好不要直接打印出数列，而是返回一个 List。以下是 fab 函数改写后的第二个版本：</p>
<p><em>清单 2. 输出斐波那契數列前 N 个数第二版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    L = []
    while n &lt; max:
        L.append(b)
        a, b = b, a + b
        n = n + 1
    return L
</code></pre>
<p>可以使用如下方式打印出 fab 函数返回的 List：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>改写后的 fab 函数通过返回 List 能满足复用性的要求，但是更有经验的开发者会指出，该函数在运行中占用的内存会随着参数 max 的增大而增大，如果要控制内存占用，最好不要用 List 来保存中间结果，而是通过 iterable 对象来迭代。例如，在 Python2.x 中，代码：</p>
<p><em>清单 3. 通过 iterable 对象来迭代</em></p>
<pre><code>for i in range(1000): pass
</code></pre>
<p>会导致生成一个 1000 个元素的 List，而代码：</p>
<pre><code>for i in xrange(1000): pass
</code></pre>
<p>则不会生成一个 1000 个元素的 List，而是在每次迭代中返回下一个数值，内存空间占用很小。因为 xrange 不返回 List，而是返回一个 iterable 对象。</p>
<p>利用 iterable 我们可以把 fab 函数改写为一个支持 iterable 的 class，以下是第三个版本的 Fab：</p>
<p><em>清单 4. 第三个版本</em></p>
<pre><code>class Fab(object):

    def __init__(self, max):
        self.max = max
        self.n, self.a, self.b = 0, 0, 1

    def __iter__(self):
        return self

    def next(self):
        if self.n &lt; self.max:
            r = self.b
            self.a, self.b = self.b, self.a + self.b
            self.n = self.n + 1
            return r
        raise StopIteration()
</code></pre>
<p>Fab 类通过 next() 不断返回数列的下一个数，内存占用始终为常数：</p>
<pre><code>&gt;&gt;&gt; for n in Fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>然而，使用 class 改写的这个版本，代码远远没有第一版的 fab 函数来得简洁。如果我们想要保持第一版 fab 函数的简洁性，同时又要获得 iterable 的效果，yield 就派上用场了：</p>
<p><em>清单 5. 使用 yield 的第四版</em></p>
<pre><code>def fab(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        yield b
        # print b
        a, b = b, a + b
        n = n + 1
</code></pre>
<p>第四个版本的 fab 和第一版相比，仅仅把 print b 改为了 yield b，就在保持简洁性的同时获得了 iterable 的效果。</p>
<p>调用第四版的 fab 和第二版的 fab 完全一致：</p>
<pre><code>&gt;&gt;&gt; for n in fab(5):
...     print n
...
1
1
2
3
5
</code></pre>
<p>简单地讲，yield 的作用就是把一个函数变成一个 generator，带有 yield 的函数不再是一个普通函数，Python 解释器会将其视为一个 generator，调用 fab(5) 不会执行 fab 函数，而是返回一个 iterable 对象！在 for 循环执行时，每次循环都会执行 fab 函数内部的代码，执行到 yield b 时，fab 函数就返回一个迭代值，下次迭代时，代码从 yield b 的下一条语句继续执行，而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到 yield。</p>
<p>也可以手动调用 fab(5) 的 next() 方法（因为 fab(5) 是一个 generator 对象，该对象具有 next() 方法），这样我们就可以更清楚地看到 fab 的执行流程：</p>
<p><em>清单 6. 执行流程</em></p>
<pre><code>&gt;&gt;&gt; f = fab(5)
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
1
&gt;&gt;&gt; f.next()
2
&gt;&gt;&gt; f.next()
3
&gt;&gt;&gt; f.next()
5
&gt;&gt;&gt; f.next()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
StopIteration
</code></pre>
<p>当函数执行结束时，generator 自动抛出 StopIteration 异常，表示迭代完成。在 for 循环里，无需处理 StopIteration 异常，循环会正常结束。</p>
<p>我们可以得出以下结论：</p>
<p>一个带有 yield 的函数就是一个 generator，它和普通函数不同，生成一个 generator 看起来像函数调用，但不会执行任何函数代码，直到对其调用 next()（在 for 循环中会自动调用 next()）才开始执行。虽然执行流程仍按函数的流程执行，但每执行到一个 yield 语句就会中断，并返回一个迭代值，下次执行时从 yield 的下一个语句继续执行。看起来就好像一个函数在正常执行的过程中被 yield 中断了数次，每次中断都会通过 yield 返回当前的迭代值。</p>
<p>yield 的好处是显而易见的，把一个函数改写为一个 generator 就获得了迭代能力，比起用类的实例保存状态来计算下一个 next() 的值，不仅代码简洁，而且执行流程异常清晰。</p>
<p>如何判断一个函数是否是一个特殊的 generator 函数？可以利用 isgeneratorfunction 判断：</p>
<p><em>清单 7. 使用 isgeneratorfunction 判断</em></p>
<pre><code>&gt;&gt;&gt; from inspect import isgeneratorfunction
&gt;&gt;&gt; isgeneratorfunction(fab)
True
</code></pre>
<p>要注意区分 fab 和 fab(5)，fab 是一个 generator function，而 fab(5) 是调用 fab 返回的一个 generator，好比类的定义和类的实例的区别：</p>
<p><em>清单 8. 类的定义和类的实例</em></p>
<pre><code>&gt;&gt;&gt; import types
&gt;&gt;&gt; isinstance(fab, types.GeneratorType)
False
&gt;&gt;&gt; isinstance(fab(5), types.GeneratorType)
True
</code></pre>
<p>fab 是无法迭代的，而 fab(5) 是可迭代的：</p>
<pre><code>&gt;&gt;&gt; from collections import Iterable
&gt;&gt;&gt; isinstance(fab, Iterable)
False
&gt;&gt;&gt; isinstance(fab(5), Iterable)
True
</code></pre>
<p>每次调用 fab 函数都会生成一个新的 generator 实例，各实例互不影响：</p>
<pre><code>&gt;&gt;&gt; f1 = fab(3)
&gt;&gt;&gt; f2 = fab(5)
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 1
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 1
&gt;&gt;&gt; print 'f1:', f1.next()
f1: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 2
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 3
&gt;&gt;&gt; print 'f2:', f2.next()
f2: 5
</code></pre>
<h3>另一个例子</h3>
<p>另一个 yield 的例子来源于文件读取。如果直接对文件对象调用 read() 方法，会导致不可预测的内存占用。好的方法是利用固定长度的缓冲区来不断读取文件内容。通过 yield，我们不再需要编写读文件的迭代类，就可以轻松实现文件读取：</p>
<p><em>清单 9. 另一个 yield 的例子</em></p>
<pre><code>def read_file(fpath):
    BLOCK_SIZE = 1024
    with open(fpath, 'rb') as f:
        while True:
            block = f.read(BLOCK_SIZE)
            if block:
                yield block
            else:
                return
</code></pre>
<p>以上仅仅简单介绍了 yield 的基本概念和用法，yield 在 Python 3 中还有更强大的用法，我们会在后续文章中讨论。</p>
<p><em>注：本文的代码均在 Python 2.7 中调试通过</em></p>
<h3>关于作者</h3>
<p>廖雪峰，精通 Java/Java EE/Java ME/Android/Python/C#/Visual Basic，对开源框架有深入研究，著有《Spring 2.0 核心技术与最佳实践》一书，创建有开源框架 JOpenID，其官方博客是 <a href="http://www.liaoxuefeng.com/">http://www.liaoxuefeng.com/</a>。</p>
    </div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <div class="x-anchor"><a name="comments"></a></div>

    <h3>评论</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>发表评论</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> 登录后发表评论</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
												<div class="uk-flex-item-none x-sidebar-right">
							<div id="x-sidebar-right">
								<div id="x-sidebar-right-top">
									<!-- __snippet__.sidebarRightTop -->
																		<!-- // __snippet__.sidebarRightTop -->
								</div>
								<div id="x-sidebar-right-content" class="x-sidebar-right-content">
										<p>Author: <a href="/user/916549967804896">廖雪峰</a></p>
	<p>Publish at: <span class="x-smart-datetime" data="1353580445000">...</span></p>
								</div>
								<div id="x-sidebar-right-bottom">
									<!-- __snippet__.sidebarRightBottom -->
									<h3>关于作者</h3>
<p>关注公众号不定期领红包：</p>
<p><img src="/files/attachments/1340208951853121/0"></p>
<p>关注微博获取实时动态：</p>
<iframe width="100%" height="90" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1658384301&verifier=078cedea&colors=0593d3,ffffff,666666,0593d3,0477ab&dpc=1"></iframe>
<div id="sponsor-b"></div>
									<!-- // __snippet__.sidebarRightBottom -->
								</div>
							</div>
						</div>
											</div>
				</div>

				<div id="x-body-bottom" class="uk-width-1-1">
					<!-- __snippet__.bodyBottom -->
										<!-- // __snippet__.bodyBottom -->
				</div>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="x-footer uk-container x-container">
			<hr>
			<div class="uk-grid">
				<div class="x-footer-copyright uk-width-small-1-2 uk-width-medium-1-3">
					<p>
						<a href="/" title="version=1.0-78696de-2020-04-10T02:25:52Z">廖雪峰的官方网站</a> &copy;Copyright 2019-2021						<br>
						Powered by <a href="https://github.com/michaelliao/itranswarp" target="_blank">iTranswarp</a>
					</p>
				</div>
				<div class="uk-width-small-1-2 uk-width-medium-1-3 x-hidden-tiny">
									<a href="https://github.com/michaelliao" target="_blank" class="uk-icon-button uk-icon-github"></a>
									<a href="https://twitter.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-twitter"></a>
									<a href="https://weibo.com/liaoxuefeng" target="_blank" class="uk-icon-button uk-icon-weibo"></a>
								</div>
				<div class="uk-width-medium-1-3 uk-hidden-small">
					<p>
						<a href="https://github.com/michaelliao/itranswarp/issues" target="_blank">意见反馈</a>
						<br>
						<a href="https://github.com/michaelliao/itranswarp/blob/master/LICENSE" target="_blank">使用许可</a>
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
hahah